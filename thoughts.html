<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–¢–≤–æ–∏ –º—ã—Å–ª–∏</title>

  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />

  <style>
    /* –û–±—ë—Ä—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∫–∞–∫ –Ω–∞ index */
    .page {
      width: 100%;
      max-width: 1100px;
      margin: 0 auto;
    }

    main.page-inner {
      margin-top: 26px;
      margin-bottom: 32px;
      display: flex;
      justify-content: center;
    }

    .page-inner-card {
      width: 100%;
      max-width: 860px;
    }

    .title-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .title-row h1 {
      font-size: 26px;
      margin: 0;
    }

    .lock-icon {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.16);
      font-size: 18px;
    }

    .letter-text {
      font-size: 14px;
      color: var(--text-soft);
      max-width: 720px;
      margin-bottom: 18px;
    }

    .thoughts-input {
      width: 100%;
      max-width: 720px;
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(11, 8, 27, 0.96);
      color: #fff;
      padding: 10px 12px;
      font-size: 14px;
      resize: vertical;
      outline: none;
      margin-bottom: 10px;
    }

    .thoughts-input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(255, 79, 154, 0.6);
    }

    .page-inner-card button[type="button"] {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 16px;
      border-radius: 999px;
      border: none;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      background: var(--accent);
      color: #fff;
      box-shadow: 0 10px 25px rgba(255, 79, 154, 0.45);
      transition: all 0.18s ease;
      margin-bottom: 16px;
    }

    .page-inner-card button[type="button"]:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(255, 79, 154, 0.6);
    }

    h2 {
      font-size: 18px;
      margin-bottom: 8px;
    }

    #thoughtList {
      list-style: none;
      padding: 0;
      margin: 0;
      max-width: 720px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    #thoughtList li {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 10px;
      padding: 9px 11px;
      border-radius: 14px;
      background: rgba(8, 5, 22, 0.97);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .thought-text > div {
      font-size: 13px;
      line-height: 1.4;
    }

    .thought-text small {
      display: block;
      margin-top: 3px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .delete-btn {
      background: transparent;
      border: none;
      color: rgba(255, 255, 255, 0.5);
      font-size: 15px;
      cursor: pointer;
      padding: 0 2px;
    }

    .delete-btn:hover {
      color: var(--danger);
    }

    @media (max-width: 720px) {
      main.page-inner {
        padding-inline: 4px;
      }
    }
  </style>
</head>
<body>
  <!-- —Ç–µ –∂–µ —Ñ–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏, —á—Ç–æ –∏ –Ω–∞ index -->
  <span class="floating-heart" style="left: 12%; bottom: -40px;">üíó</span>
  <span class="floating-heart" style="left: 62%; bottom: -80px; animation-delay: 2s;">üíó</span>
  <span class="floating-heart" style="left: 82%; bottom: -120px; animation-delay: 4s;">üíó</span>
  <span class="floating-heart" style="left: 32%; bottom: -100px; animation-delay: 6s;">üíó</span>

  <div class="page">
   <header class="site-header">
    <div class="header-inner">

        <div class="logo">
            –ê—Å—å—è–º–∞–Ω
            <span>–Ω–∞—à –º–∞–ª–µ–Ω—å–∫–∏–π –º–∏—Ä</span>
        </div>

        <button class="nav-toggle" aria-label="–ú–µ–Ω—é">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <nav class="site-nav">
            <div class="nav-links">
                <a href="index.html" class="nav-link">–ñ–µ–ª–∞–Ω–∏—è</a>
                <a href="thoughts.html" class="nav-link nav-active">–ú—ã—Å–ª–∏</a>
                <a href="miss.html" class="nav-link">–ö–æ–≥–¥–∞ —Å–∫—É—á–∞–µ—à—å</a>
                <a href="letter.html" class="nav-link">–ü–∏—Å—å–º–æ</a>
                <a href="about.html" class="nav-link">–û –Ω–∞—Å</a>
            </div>

            <button type="button" class="theme-toggle" onclick="toggleTheme()">üåô</button>
        </nav>

    </div>
</header>


    <main class="page-inner">
      <section class="card page-inner-card">
        <div class="card-inner">
          <div class="title-row">
            <div class="lock-icon">üîí</div>
            <h1>–¢–≤–æ–∏ –º—ã—Å–ª–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è üí≠</h1>
          </div>

          <p class="letter-text">
            –ó–¥–µ—Å—å —Ç—ã –º–æ–∂–µ—à—å –æ—Å—Ç–∞–≤–∏—Ç—å –≤—Å—ë, —á—Ç–æ —Ö–æ—á–µ—à—å –º–Ω–µ —Å–∫–∞–∑–∞—Ç—å: –º—ã—Å–ª–∏, –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –∏–¥–µ–∏.
            –≠—Ç–æ –Ω–∞—à —Ç–∏—Ö–∏–π —É–≥–æ–ª–æ–∫ –¥–ª—è —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –∏ –Ω–µ –æ—á–µ–Ω—å —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤.
          </p>

          <textarea id="thoughtInput" class="thoughts-input" placeholder="–û —á—ë–º —Ç—ã –¥—É–º–∞–µ—à—å —Å–µ–π—á–∞—Å?"></textarea>
          <button type="button" onclick="addThought()">–î–æ–±–∞–≤–∏—Ç—å –º—ã—Å–ª—å</button>

          <h2>–¢–≤–æ–∏ –∑–∞–ø–∏—Å–∏:</h2>
          <ul id="thoughtList"></ul>
        </div>
      </section>
    </main>
  </div>

  <div id="hearts"></div>
  <div class="corner-lock">üîí –ù–∞—à –º–∞–ª–µ–Ω—å–∫–∏–π —Å–µ–∫—Ä–µ—Ç</div>

  <script>
    function applyThemeFromStorage() {
      const saved = localStorage.getItem("theme");
      const body = document.body;
      const toggles = document.querySelectorAll(".theme-toggle");
      if (saved === "dark") {
        body.classList.add("dark");
        toggles.forEach(b => b.textContent = "‚òÄ");
      } else {
        body.classList.remove("dark");
        toggles.forEach(b => b.textContent = "üåô");
      }
    }
    function toggleTheme() {
      const body = document.body;
      const isDark = body.classList.toggle("dark");
      const toggles = document.querySelectorAll(".theme-toggle");
      toggles.forEach(b => b.textContent = isDark ? "‚òÄ" : "üåô");
      localStorage.setItem("theme", isDark ? "dark" : "light");
    }

    /* –º—ã—Å–ª–∏ ‚Äî –ª–æ–≥–∏–∫–∞ —Ç–∞ –∂–µ, —á—Ç–æ —É —Ç–µ–±—è –±—ã–ª–∞ */
    let thoughts = [];
    function saveThoughts() {
      localStorage.setItem("thoughts", JSON.stringify(thoughts));
    }
    function renderThoughts() {
      const list = document.getElementById("thoughtList");
      list.innerHTML = "";
      thoughts.forEach((item, index) => {
        const li = document.createElement("li");
        const wrap = document.createElement("div");
        wrap.className = "thought-text";
        const main = document.createElement("div");
        main.textContent = item.text;
        const meta = document.createElement("small");
        meta.textContent = item.date;
        wrap.appendChild(main);
        wrap.appendChild(meta);

        const btn = document.createElement("button");
        btn.textContent = "‚úï";
        btn.className = "delete-btn";
        btn.onclick = () => {
          thoughts.splice(index, 1);
          saveThoughts();
          renderThoughts();
        };

        li.appendChild(wrap);
        li.appendChild(btn);
        list.appendChild(li);
      });
    }
    function addThought() {
      const input = document.getElementById("thoughtInput");
      const text = input.value.trim();
      if (!text) return;
      const now = new Date();
      const date = now.toLocaleString("ru-RU", {
        day: "2-digit", month: "2-digit", year: "numeric",
        hour: "2-digit", minute: "2-digit"
      });
      thoughts.unshift({ text, date });
      saveThoughts();
      renderThoughts();
      input.value = "";
    }

    /* –±—É—Ä–≥–µ—Ä –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
    function initNavToggle() {
      const navToggle = document.querySelector(".nav-toggle");
      const siteNav = document.querySelector(".site-nav");
      if (!navToggle || !siteNav) return;
      navToggle.addEventListener("click", () => {
        siteNav.classList.toggle("nav-open");
      });
    }

    window.addEventListener("load", () => {
      applyThemeFromStorage();
      const saved = localStorage.getItem("thoughts");
      if (saved) {
        try { thoughts = JSON.parse(saved); } catch { thoughts = []; }
      }
      renderThoughts();
      initNavToggle();
    });
  </script>
</body>
</html>
